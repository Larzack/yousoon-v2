# =============================================================================
# Yousoon Platform - Production Values
# =============================================================================
# Production environment with CLASSIC mode (each component in its own pod)
# This provides better isolation, scaling and resilience.
#
# Usage:
#   helm install yousoon ./charts/yousoon -f values-prod.yaml
# =============================================================================

global:
  infra: "classic"
  namespace: yousoon-production
  environment: production
  domain: yousoon.com
  imageRegistry: "499771322424.dkr.ecr.eu-west-1.amazonaws.com"
  imagePullPolicy: IfNotPresent

  labels:
    app.kubernetes.io/part-of: yousoon
    app.kubernetes.io/managed-by: helm
    environment: production

# =============================================================================
# Enable Components
# =============================================================================
storage:
  enabled: true

services:
  enabled: true

sites:
  enabled: true

monitoring:
  enabled: false

# =============================================================================
# Storage - Production Settings (Classic Mode)
# =============================================================================
yousoon-storage:
  global:
    infra: "classic"
    namespace: yousoon-production

  mongodb:
    enabled: true
    replicaCount: 3
    persistence:
      size: 50Gi

  redis:
    enabled: true
    persistence:
      size: 10Gi

  nats:
    enabled: true
    jetstream:
      fileStorage:
        size: 10Gi

  elasticsearch:
    enabled: true
    persistence:
      size: 50Gi

# =============================================================================
# Services - Production Settings (Classic Mode)
# =============================================================================
yousoon-services:
  global:
    infra: "classic"
    namespace: yousoon-production

  identity:
    enabled: true
    replicaCount: 2

  partner:
    enabled: true
    replicaCount: 2

  discovery:
    enabled: true
    replicaCount: 2

  booking:
    enabled: true
    replicaCount: 2

  engagement:
    enabled: true
    replicaCount: 2

  notification:
    enabled: true
    replicaCount: 2

  router:
    enabled: true
    replicaCount: 2

# =============================================================================
# Sites - Production Settings (Classic Mode)
# =============================================================================
yousoon-sites:
  global:
    infra: "classic"
    namespace: yousoon-production

  admin:
    enabled: true
    replicaCount: 2
    ingress:
      enabled: false  # Access via port-forward only

  partners:
    enabled: true
    replicaCount: 2
    ingress:
      enabled: true
      host: business.yousoon.com

  siteweb:
    enabled: true
    replicaCount: 2
    ingress:
      enabled: true
      host: www.yousoon.com
