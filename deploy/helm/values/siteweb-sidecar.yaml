# =============================================================================
# Yousoon Siteweb - Sidecar Mode Values
# =============================================================================
# Déploiement autonome du site vitrine (Next.js)
# Mode sidecar: staging, développement
# =============================================================================

global:
  infra: "sidecar"
  namespace: yousoon-staging
  imageRegistry: "499771322424.dkr.ecr.eu-west-1.amazonaws.com"
  imagePullPolicy: IfNotPresent

common:
  replicas: 1

# Désactiver les autres sites (déploiement autonome)
admin:
  enabled: false

partners:
  enabled: false

# =============================================================================
# Site Vitrine (Next.js) - ENABLED
# =============================================================================
siteweb:
  enabled: true
  image:
    repository: yousoon/siteweb
    tag: staging
  port: 3000
  
  resources: {}

  env:
    - name: NODE_ENV
      value: production
    - name: NEXT_PUBLIC_API_URL
      value: "https://api.yousoon.com/graphql"

  ingress:
    enabled: true
    host: www.yousoon.com
    annotations:
      kubernetes.io/ingress.class: nginx
      cert-manager.io/cluster-issuer: letsencrypt-prod
